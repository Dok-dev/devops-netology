# Домашнее задание к занятию "11.4 Микросервисы: масштабирование"

Вы работаете в крупной компанию, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps специалисту необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.

## Задача 1: Кластеризация

Предложите решение для обеспечения развертывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- Поддержка контейнеров;
- Обеспечивать обнаружение сервисов и маршрутизацию запросов;
- Обеспечивать возможность горизонтального масштабирования;
- Обеспечивать возможность автоматического масштабирования;
- Обеспечивать явное разделение ресурсов доступных извне и внутри системы;
- Обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т.п.

Обоснуйте свой выбор.

> **Ответ:**    
> На сколько я понимаю, в данном случае идеально подходит Kubernetes. Он отлично подходит для развертывания и автоматизированного масштабирования микросервисной инфраструктуры основанной на контейнерах. В нем так же имеется встроенный модуль Secrets для хранения чувствительных данных. К нему можно добавить пакетный менеджер Helm, что бы упростить запуск приложений в кластере. Возможно понадобится Terrform при развертывании инфраструктуры в облаке.     
> В общем виде схема будет выглядеть примерно так:    
> ![11-04-01](scheme1.png)

## Задача 2: Распределенный кэш * (необязательная)

Разработчикам вашей компании понадобился распределенный кэш для организации хранения временной информации по сессиям пользователей.
Вам необходимо построить Redis Cluster состоящий из трех шард с тремя репликами.

### Схема:

![11-04-02](scheme.png)

> **Ответ:**    
> Playbook для сборки кластера: https://github.com/Dok-dev/devops-netology/tree/main/hw-11.4_microservices-4-scaling/playbook

---

Андрей Копылов (преподаватель)
2 октября 2021 15:53

Добрый день!

Зачтено
